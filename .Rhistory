library(ggplot2)
library(readr)
library(dplyr)
library(extrafont)
library(choroplethr)
library(extrafontdb)
library(RColorBrewer)
library(scales)
library(gridExtra)
library(choroplethrMaps)
library(formattable)
library(knitr)
library(kableExtra)
##Setwd for omar besic
setwd("C:/Users/omarb/Desktop/Studium/6. Semester/06_Business Intelligence im Spital/Projekt/bi_project")
# import data with help of the readr package and reads comma delimited files
planAttributes <- read.csv("PlanAttributes.csv", stringsAsFactors = FALSE)
names(planAttributes) %>%
kable() %>%
kable_styling()
names(planAttributes) %>%
kable() %>%
kable_styling(bootstrap_options = c("striped", "hover"))
names(planAttributes) %>%
kable() %>%
kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive"))
names(planAttributes) %>%
kable() %>%
kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive"), fixed_header = list(enabled = T, background = "red"))
names(planAttributes) %>%
kable() %>%
kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive", fixed_header = list(enabled = T, background = "red")))
names(planAttributes) %>%
kable() %>%
kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive"))
overviewColumns <- names(planAttributes) %>%
kable() %>%
kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive"))
overviewColumns <- fixed_header = list(enabled = T, background = "red")
names(planAttributes) %>%
kable() %>%
kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive"), fixed_thead = list(enabled = T/F, background = "blue"))
names(planAttributes) %>%
kable() %>%
kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive"), fixed_thead = list(enabled = T, background = "blue"))
names(planAttributes) %>%
kable() %>%
kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive"), fixed_thead = list(enabled = F, background = "blue"))
names(planAttributes) %>%
kable() %>%
kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive"), fixed_thead = list(enabled = T, background = "blue"))
names(planAttributes) %>%
kable() %>%
kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive")
, fixed_thead = list(enabled = T, background = "blue")
, stripe_color("blue")
)
names(planAttributes) %>%
kable() %>%
kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive")
, fixed_thead = list(enabled = T, background = "yellow")
)
names(planAttributes) %>%
kable() %>%
kable_styling(bootstrap_options = c("striped", "hover", "blue", "responsive")
, fixed_thead = list(enabled = T, background = "yellow")
)
names(planAttributes) %>%
kable() %>%
kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive")
, fixed_thead = T
)
names(planAttributes) %>%
kable() %>%
kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive")
, fixed_thead = list(enabled = T, background = "yellow")
)
names(planAttributes) %>%
names(planAttributes) %>%
kable() %>%
kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive")
, fixed_thead = list(enabled = T, background = "yellow"))
names(planAttributes) %>%
kable() %>%
kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive")
, fixed_thead = list(enabled = T, background = "yellow"))
allColumns <- names(planAttributes)
knitr::opts_chunk$set(echo = TRUE)
names(planAttributes) %>%
kable() %>%
kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive")
, fixed_thead = list(enabled = T, background = "yellow"))
names(planAttributes) %>%
kable() %>%
kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive")
, fixed_thead = list(enabled = T, background = "yellow"))  %>%
row_spec(121,159, bold = T, color = "white", background = "#D7261E")
names(planAttributes) %>%
kable() %>%
kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive")
, fixed_thead = list(enabled = T, background = "yellow"))  %>%
row_spec(121;159, bold = T, color = "white", background = "#D7261E")
names(planAttributes) %>%
kable() %>%
kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive")
, fixed_thead = list(enabled = T, background = "yellow"))  %>%
row_spec(121 && 159, bold = T, color = "white", background = "#D7261E")
names(planAttributes) %>%
kable() %>%
kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive")
, fixed_thead = list(enabled = T, background = "yellow"))  %>%
row_spec(121, bold = T, color = "white", background = "#D7261E")
names(planAttributes) %>%
kable() %>%
kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive")
, fixed_thead = list(enabled = T, background = "yellow"))  %>%
row_spec(cbind(121,159), bold = T, color = "white", background = "#D7261E")
knitr::opts_chunk$set(echo = TRUE)
library(ggplot2)
library(readr)
library(dplyr)
library(choroplethr)
library(extrafont)
library(extrafontdb)
library(RColorBrewer)
library(scales)
library(gridExtra)
library(choroplethrMaps)
library(knitr)
library(kableExtra)
knitr::opts_chunk$set(echo = TRUE)
library(ggplot2)
library(readr)
library(dplyr)
library(choroplethr)
library(extrafont)
library(extrafontdb)
library(RColorBrewer)
library(scales)
library(gridExtra)
library(choroplethrMaps)
library(knitr)
library(kableExtra)
names(planAttributes) %>%
kable() %>%
kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive")
, fixed_thead = list(enabled = T, background = "yellow"))  %>%
row_spec(cbind(121,159), bold = T, color = "white", background = "#D7261E")
planAttributes <- read.csv("PlanAttributes.csv", stringsAsFactors = FALSE)
names(planAttributes) %>%
kable() %>%
kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive")
, fixed_thead = list(enabled = T, background = "yellow"))  %>%
row_spec(cbind(121,159), bold = T, color = "white", background = "#D7261E")
##Setwd for omar besic
setwd("C:/Users/omarb/Desktop/Studium/6. Semester/06_Business Intelligence im Spital/Projekt/bi_project")
library(ggplot2)
library(readr)
library(dplyr)
library(RColorBrewer)
library(DT)
library(choroplethrMaps)
library(choroplethr)
##Setwd for omar besic
setwd("C:/Users/omarb/Desktop/Studium/6. Semester/06_Business Intelligence im Spital/Projekt/bi_project")
##Setwd for musab elkour
# setwd("C:/dev/bi_project")
#import data with help of the readr package and reads comma delimited files
hc <- read.csv("PlanAttributes.csv", stringsAsFactors = FALSE)
# replace all "," with " " AND all "\\$" with " " in SBCHavingDiabetesCoinsurance
hc$SBCHavingDiabetesCoinsurance<- gsub('\\$', '', hc$SBCHavingDiabetesCoinsurance)
hc$SBCHavingDiabetesCoinsurance<- gsub(',', '', hc$SBCHavingDiabetesCoinsurance)
# assign (and convert to numeric) the column of SBCHavingDiabetesCoinsurance
hc$coinsurance <- as.numeric(hc$SBCHavingDiabetesCoinsurance)
# fill the blank cells with 0
hc$coinsurance[is.na(hc$coinsurance)] <- 0
counts <- table(hc$coinsurance)
#barplot of coinsurance
barplot(counts, main="The coinsurance for the sample SBC scenario of having diabetes",
xlab="Dollar Amount", ylab="Counts")
# plot histogram of coinsurance dollar amount (x axis) and count in (y axis)
ggplot(hc, aes(x = hc$coinsurance)) + geom_histogram(color="green")
#list aggregation of the mean of the coinsurance with the statecode and print it
df <- aggregate(hc$coinsurance, list(hc$StateCode), mean)
df
#Set the title of the printed aggregated list above with new labels and print it
names(df) <- c("state", "coinsurance")
df
#----------------- geograph --------
library(tigris)
library(leaflet)
library(geojson)
#In this case, we will use the geojsonio package to load the data into sp objects, which will let us easily manipulate the geographic features, and their properties, in R.
# transfrom .json file into a spatial polygons data frame
states <- geojsonio::geojson_read(x = "https://raw.githubusercontent.com/PublicaMundi/MappingAPI/master/data/geojson/us-states.json"
, what = "sp")
class(states)
names(states)
#a basic map with just the outline of the states
m <- leaflet(states) %>%
setView(-96, 37.8, 4) %>%
addProviderTiles("MapBox", options = providerTileOptions(
id = "mapbox.light",
accessToken = Sys.getenv('MAPBOX_ACCESS_TOKEN')))
#We’ve saved the basic basemap as a separate variable m so we can easily iterate on the addPolygons call
#call addPolygons with no additional arguments -- To add uniform polygons with default styling
m %>% addPolygons()
#First, we’ll define the bins. This is a numeric vector that defines the boundaries between intervals
bins <- c(0, 10, 20, 50, 100, 200, 500, 1000, Inf)
#Then, we’ll call colorBin to generate a palette function that maps the RColorBrewer "YlOrRd" colors to our bins.
pal <- colorBin("YlOrRd", domain = states$density, bins = bins)
#Adding Color to the map
#Finally, we’ll modify addPolygons to use the palette function and the density values to generate a vector of colors for fillColor, and also add some other static style properties.
m %>% addPolygons(
fillColor = ~pal(density),
weight = 2,
opacity = 1,
color = "white",
dashArray = "3",
fillOpacity = 0.7)
#Adding interaction
#make the polygons highlight as the mouse passes over them. The addPolygon function has a highlight argument that makes this simple
m %>% addPolygons(
fillColor = ~pal(density),
weight = 2,
opacity = 1,
color = "white",
dashArray = "3",
fillOpacity = 0.7,
highlight = highlightOptions(
weight = 5,
color = "#666",
dashArray = "",
fillOpacity = 0.7,
bringToFront = TRUE))
#Custom infos
#We’ll generate the labels by handcrafting some HTML, and passing it to lapply(htmltools::HTML) so that Leaflet knows to treat each label as HTML instead of as plain text. We’ll also set some label options to improve the style of the label element itself.
labels <- sprintf(
"<strong>%s</strong><br/>%g people / mi<sup>2</sup> <br/> coinsurance 2014",
states$name, states$density
)  %>% lapply(htmltools::HTML)
m <- m %>% addPolygons(
fillColor = ~pal(density),
weight = 2,
opacity = 1,
color = "white",
dashArray = "3",
fillOpacity = 0.7,
highlight = highlightOptions(
weight = 5,
color = "#666",
dashArray = "",
fillOpacity = 0.7,
bringToFront = TRUE),
label = labels,
labelOptions = labelOptions(
style = list("font-weight" = "normal", padding = "3px 8px"),
textsize = "15px",
direction = "auto"))
m
#add a legend. Because we chose to color our map using colorBin, the addLegend function makes it particularly easy to add a legend with the correct colors and intervals.
m %>% addLegend(pal = pal, values = ~pal(density), opacity = 0.7, title = "amount of dollar",
position = "bottomright")
planAttributes[121:159]
selectedRows <- planAttributes[121:159]
names(selectedRows) %>%
kable() %>%
kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive")
, fixed_thead = list(enabled = T, background = "yellow"))  %>%
row_spec(cbind(121,159), bold = T, color = "white", background = "#D7261E")
names(planAttributes[121:159]) %>%
kable() %>%
kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive")
, fixed_thead = list(enabled = T, background = "yellow"))  %>%
row_spec(cbind(121,159), bold = T, color = "white", background = "#D7261E")
planAttributes <- as_tibble(planAttributes)
planAttributesColumns %>% pull(121:159)
planAttributesColumns <- as_tibble(planAttributes)
planAttributesColumns %>% pull(121:159)
planAttributesColumns <- as_tibble(planAttributes)
planAttributesColumns %>% pull(SBCHavingDiabetesCoinsurance)
planAttributesColumns %>% pull(SBCHavingDiabetesCoinsurance:SBCHavingDiabetesCopayment)
planAttributes <- read.csv("PlanAttributes.csv", stringsAsFactors = FALSE)
planAttributes <- read.csv("PlanAttributes.csv", stringsAsFactors = FALSE)
names(planAttributes) %>%
kable() %>%
kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive")
, fixed_thead = list(enabled = T, background = "yellow"))  %>%
row_spec(cbind(121,159), bold = T, color = "white", background = "#D7261E")
planAttributesColumns <- as_tibble(planAttributes)
planAttributesColumns <- planAttributesColumns %>% select(121:159)
names(planAttributesColumns) %>%
kable() %>%
kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive")
, fixed_thead = list(enabled = T, background = "yellow"))  %>%
row_spec(cbind(121,159), bold = T, color = "white", background = "#D7261E")
planAttributes <- read.csv("PlanAttributes.csv", stringsAsFactors = FALSE)
planAttributesColumns <- as_tibble(planAttributes)
planAttributesColumns <- planAttributesColumns %>% select(121:159)
names(planAttributesColumns) %>%
kable() %>%
kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive")
, fixed_thead = list(enabled = T, background = "yellow"))  %>%
row_spec(cbind(1,2), bold = T, color = "white", background = "#D7261E")
planAttributes <- read.csv("PlanAttributes.csv", stringsAsFactors = FALSE)
planAttributesColumns <- as_tibble(planAttributes)
planAttributesColumns <- planAttributesColumns %>% select(100:180)
planAttributesColumns <- as_tibble(planAttributes)
planAttributesColumns <- planAttributesColumns %>% select(121:159)
planAttributes <- read.csv("PlanAttributes.csv", stringsAsFactors = FALSE)
planAttributesColumns <- as_tibble(planAttributes)
planAttributesColumns <- planAttributesColumns %>% select(100:170)
names(planAttributesColumns) %>%
kable() %>%
kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive")
, fixed_thead = list(enabled = T, background = "yellow"))  %>%
row_spec(cbind(1,121), bold = T, color = "white", background = "#D7261E")
planAttributes <- read.csv("PlanAttributes.csv", stringsAsFactors = FALSE)
planAttributesColumns <- as_tibble(planAttributes)
planAttributesColumns <- planAttributesColumns %>% select(100:170)
names(planAttributesColumns) %>%
kable() %>%
kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive")
, fixed_thead = list(enabled = T, background = "yellow"))  %>%
row_spec(cbind(1,70), bold = T, color = "white", background = "#D7261E")
planAttributesColumns <- as_tibble(planAttributes)
planAttributesColumns <- planAttributesColumns %>% select(100:110 && 160:170)
planAttributesColumns <- planAttributesColumns %>% select(100:110,160:170)
names(planAttributesColumns) %>%
kable() %>%
kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive")
, fixed_thead = list(enabled = T, background = "yellow"))  %>%
row_spec(cbind(1,70), bold = T, color = "white", background = "#D7261E")
names(planAttributesColumns) %>%
kable() %>%
kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive")
, fixed_thead = list(enabled = T, background = "yellow"))  %>%
row_spec(cbind(1,20), bold = T, color = "white", background = "#D7261E")
planAttributesColumns <- as_tibble(planAttributes)
names(planAttributesColumns) %>%
kable() %>%
kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive")
, fixed_thead = list(enabled = T, background = "yellow"))  %>%
row_spec(cbind(1,25), bold = T, color = "white", background = "#D7261E")
planAttributes <- read.csv("PlanAttributes.csv", stringsAsFactors = FALSE)
planAttributesColumns <- as_tibble(planAttributes)
planAttributesColumns <- planAttributesColumns %>% select(95:110,160:170)
names(planAttributesColumns) %>%
kable() %>%
kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive")
, fixed_thead = list(enabled = T, background = "yellow"))  %>%
row_spec(cbind(1,25), bold = T, color = "white", background = "#D7261E")
planAttributesColumns <- as_tibble(planAttributes)
planAttributesColumns <- planAttributesColumns %>% select(110:130,150:165)
names(planAttributesColumns) %>%
kable() %>%
kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive")
, fixed_thead = list(enabled = T, background = "yellow"))  %>%
row_spec(cbind(1,25), bold = T, color = "white", background = "#D7261E")
planAttributes <- read.csv("PlanAttributes.csv", stringsAsFactors = FALSE)
planAttributesColumns <- as_tibble(planAttributes)
planAttributesColumns <- planAttributesColumns %>% select(110:130,150:165)
names(planAttributesColumns) %>%
kable() %>%
kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive")
, fixed_thead = list(enabled = T, background = "yellow"))  %>%
row_spec(cbind(11,29), bold = T, color = "white", background = "#D7261E")
planAttributes <- read.csv("PlanAttributes.csv", stringsAsFactors = FALSE)
planAttributesColumns <- as_tibble(planAttributes)
planAttributesColumns <- planAttributesColumns %>% select(110:130,150:165)
names(planAttributesColumns) %>%
kable() %>%
kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive")
, fixed_thead = list(enabled = T, background = "yellow"))  %>%
row_spec(cbind(12,31), bold = T, color = "white", background = "#D7261E")
names(planAttributesColumns) %>%
kable() %>%
kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive")
, fixed_thead = list(enabled = T, background = "dark"))  %>%
row_spec(cbind(12,31), bold = T, color = "white", background = "#D7261E")
planAttributes <- read.csv("PlanAttributes.csv", stringsAsFactors = FALSE)
planAttributesColumns <- as_tibble(planAttributes)
planAttributesColumns
planAttributesColumns <- planAttributesColumns %>% select(110:130,150:165)
names(planAttributesColumns) %>%
kable() %>%
kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive")
, fixed_thead = list(enabled = T, background = "dark"))  %>%
row_spec(cbind(12,31), bold = T, color = "white", background = "#D7261E")
planAttributes <- read.csv("PlanAttributes.csv", stringsAsFactors = FALSE)
planAttributesColumns <- as_tibble(planAttributes)
planAttributesColumns <- planAttributesColumns %>% select(110:130,150:165)
names(planAttributesColumns) %>%
kable() %>%
kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive")
, fixed_thead = list(enabled = T, background = "dark"))  %>%
row_spec(cbind(12,31), bold = T, color = "white", background = "#D7261E")
